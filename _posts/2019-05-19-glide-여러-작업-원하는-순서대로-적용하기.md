---
layout: post
title: Glide ì—¬ëŸ¬ ì‘ì—… ì›í•˜ëŠ” ìˆœì„œëŒ€ë¡œ apply() í•˜ê¸°
date:   2016-05-19
comments: true
---

## Glide ì—¬ëŸ¬ ì‘ì—… ì›í•˜ëŠ” ìˆœì„œëŒ€ë¡œ apply() í•˜ê¸° - Glideì˜ MultiTransformation
## (ë¶€ì œ : ì•„ë‹ˆ CenterCropì„ í•˜ê³  Radius ì ìš©í•´ ë‹¬ë¼ê³ !!!!!)
<br>

## ìŠ¬í”ˆ ì„œë¡ ...

---

ë‚˜ : ê¸€ë¼ì´ë“œ ìµœê³ ìµœê³ ! ì˜µì…˜ë§Œ ì£¼ë©´ ì•Œì•„ì„œ ëª¨ì„œë¦¬ ê¹ì•„ì¤Œ ã…‹  
QA : ê²°í•¨ - ì–´ë–¤ ì´ë¯¸ì§€ ë·°ëŠ” ë¼ìš´ë“œ ì²˜ë¦¬ ë˜ì—ˆìœ¼ë‚˜ ë˜ ì–´ë–¤ ì´ë¯¸ì§€ ë·°ëŠ” ë¼ìš´ë“œ ì²˜ë¦¬ ë˜ì§€ ì•ŠìŒ.  
ë‚˜ : ì•„ë‹ˆ, ì ˆëŒ€ ê·¸ëŸ´ ë¦¬ê°€ ì—†ì–´.  
QA : (ì‚¬ì§„ ì²¨ë¶€)  
ë‚˜ : ì‚¬ëŒì€ ëˆ„êµ¬ë‚˜ ì‹¤ìˆ˜ë¥¼ í•˜ì§€. ğŸ™‚  

ë©°ì¹  ì „ QA ê²°ê³¼ë¥¼ ë³´ê³  ì´ëŸ° ìì˜í•œ ì‹¤ìˆ˜ë¥¼ í–ˆì„ ë¦¬ê°€ ì—†ë‹¤ê³  í˜„ì‹¤ ë¶€ì •ì„ í–ˆì§€ë§Œ ìº¡ì³ë³¸ì—ëŠ”... ì–´ë–¤ ê²ƒì€ ëœ ê¹ì—¬ìˆê³ , ì–´ë–¤ ê²ƒì€ ì•ˆ ê¹ì—¬ìˆëŠ” ê·¸ëŸ° ì´ë¯¸ì§€ê°€ ë°”ì¸ë”© ë˜ì–´ ìˆì—ˆë‹¤. 

*ImageViewì˜ scaleTypeì„ ì •í™•í•˜ê²Œ ì¤¬ë‹¤ê³ !!!!! ì§„ì§œë¡œ!!!!!*ğŸ˜« ë¼ê³  í•˜ì§€ ë§ê³  ì œëŒ€ë¡œ ì‚´í´ë³´ì.
<br>
<br>
<br>
<br>

## ì¬í˜„ ë˜ì—ˆë˜ í™˜ê²½  

---

ë‚˜ëŠ” í•´ë‹¹ ImageView scaleTypeì„ centerCropìœ¼ë¡œ ì„¤ì •í–ˆë‹¤.  
ì„œë²„ì—ì„œ ë³´ë‚´ì£¼ëŠ” ì´ë¯¸ì§€ì˜ í¬ê¸°ê°€ ì¼ì •í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‚´ ì´ë¯¸ì§€ ë·°ì— ê½‰ ì°¨ê¸¸ ë°”ëê³ , fitXY ì‚¬ìš© ì‹œ ImageViewì˜ ë¹„ìœ¨ì´ ì¡°ì •ë˜ê¸° ë•Œë¬¸ì— (ì°Œê·¸ëŸ¬ì§„ë‹¤) ImageViewì— ê³µë°± ì—†ì´ ë“¤ì–´ì°¬ í›„ crop ë˜ê¸¸ ë°”ëë‹¤.  
ê·¸ ë‹¤ìŒ Glideì˜ transformì„ ì´ìš©í•˜ì—¬ radiusë¥¼ ì ìš©í–ˆìœ¼ë‚˜, ìœ„ì— ì–¸ê¸‰í•œ ê²°í•¨ì´ ë°œìƒí•˜ì˜€ë‹¤.
<br>
<br>
<br>
<br>
## ì™œ ê·¸ë ‡ê²Œ ë‚˜íƒ€ë‚˜ëŠ”ê°€?  

---

ì •í™•í•œ ìë£Œë¥¼ ì°¾ì„ ìˆ˜ëŠ” ì—†ì—ˆì§€ë§Œ (ë§í¬ ì œë³´ ë°›ì•„ìš”ğŸ™Œ) í˜„ìƒì´ ë‚˜íƒ€ë‚œ ì´ë¯¸ì§€ì˜ í˜•íƒœë“¤ë¡œ ì¶”ì¸¡í•´ ë´¤ë‹¤.

1. ì´ë¯¸ì§€ urlì„ ì „ë‹¬ ë°›ìŒ
2. RequestOptionsìœ¼ë¡œ ë°›ì€ ì˜µì…˜ë“¤ì„ applyí•¨.
3. into() ë©”ì„œë“œì—ì„œ ë°›ì€ íƒ€ê²Ÿìœ¼ë¡œ ImageViewì— ë°”ì¸ë“œ í•¨

ìœ„ ê³¼ì •ì—ì„œ 3ë²ˆì— ImageViewì˜ scaleTypeì´ bind ë  ë•Œì—ì„œì•¼ ì ìš©ë˜ëŠ” ê²ƒì´ë¯€ë¡œ ì´ë¯¸ 2ë²ˆì—ì„œ ê°€ê³µì´ ì™„ë£Œëœ ì‚¬ì§„ì„ ë„£ì„ ë•Œ ë‹¤ì‹œ í•œ ë²ˆ ImageViewì˜ scaleType ê°’ì— ì˜í•´ì„œ ê°€ê³µì´ ë˜ëŠ” ê²ƒì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. widthì™€ heightê°€ ë‹¤ì–‘í•œ ì´ë¯¸ì§€ê°€ ë‚´ê°€ ì˜µì…˜ì„ ì¤€ ëŒ€ë¡œ radius ê°€ê³µì´ ë˜ê³ , ê·¸ í›„ì— ImageViewì˜ ì œí•œëœ í¬ê¸°ì— ë§ì¶°ì§€ë©´ì„œ í•œ ë²ˆ ë” ê°€ê³µì´ ë˜ì–´ radius ê°€ê³µëœ ë¶€ë¶„ì´ ì˜ë ¤ì ¸ ë‚˜ê°„ ê²ƒìœ¼ë¡œ ìƒê°ëë‹¤. ê·¸ë˜ì„œ ImageViewì˜ scaleType ê°’ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  Glide ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ transformì„ ì´ìš©í•˜ì—¬ centerCropê³¼ radiusë¥¼ ë‘˜ ë‹¤ transformì„ í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆë‹¤.

    Glide.with(context)
       .load(url)
       .apply(new RequestOptions().transforms(new CenterCrop(),
              new RoundedCorners(20)))
       .into(imageView);

ìœ„ì™€ ê°™ì€ ì†ŒìŠ¤ë¡œ ë³€ê²½ì„ í•˜ì˜€ìœ¼ë‚˜ **ë¬¸ì œê°€ ë˜ëŠ” í˜„ìƒì€ ì—¬ì „**í–ˆê³  ìˆœì„œëŒ€ë¡œ ê°€ê³µí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ì•˜ë‹¤.
<br>
<br>
<br>
<br>
## í•´ê²° ë°©ë²• - MultiTransformation  

---

`MultiTransformation` ì€ ì—¬ëŸ¬ ê°œì˜ `Transformation`ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ ìˆœì„œëŒ€ë¡œ transform í•´ì¤€ë‹¤.  
ì•„ë˜ëŠ” Glideì˜ github í˜ì´ì§€ì—ì„œ ê°€ì ¸ì˜¨ MultiTransformation ì½”ë“œì˜ í•œ ë¶€ë¶„ì´ë‹¤.  

> library/src/main/java/com/bumptech/glide/load/MultiTransformation.java

    /**
     * A transformation that applies one or more transformations in iteration order to a resource.
     *
     * @param <T> The type of {@link com.bumptech.glide.load.engine.Resource} that will be transformed.
     */
    public class MultiTransformation<T> implements Transformation<T> {
      private final Collection<? extends Transformation<T>> transformations;
    
      @SafeVarargs
      @SuppressWarnings("varargs")
      public MultiTransformation(@NonNull Transformation<T>... transformations) {
        if (transformations.length == 0) {
          throw new IllegalArgumentException(
              "MultiTransformation must contain at least one Transformation");
        }
        this.transformations = Arrays.asList(transformations);
      }

    @NonNull
      @Override
      public Resource<T> transform(
          @NonNull Context context, @NonNull Resource<T> resource, int outWidth, int outHeight) {
        Resource<T> previous = resource;
    
        for (Transformation<T> transformation : transformations) {
          Resource<T> transformed = transformation.transform(context, previous, outWidth, outHeight);
          if (previous != null && !previous.equals(resource) && !previous.equals(transformed)) {
            previous.recycle();
          }
          previous = transformed;
        }
        return previous;
      }

`MultiTransformation` ì€ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ Optionë“¤ì„ ArrayListì— ì €ì¥í•´ ë°˜í™˜í•œë‹¤.  
ì´ ArrayListëŠ” forë¬¸ì„ ëŒë©´ì„œ ì°¨ë¡€ëŒ€ë¡œ transformì´ ë˜ê³  ë³€í™˜ì´ ì™„ë£Œëœ ì‚¬ì§„ì„ ë°˜í™˜í•œë‹¤.  
ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì€ ì†ŒìŠ¤ë¡œ ë‚´ê°€ ì›í•˜ëŠ” ì„ crop í›„radiusë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆë‹¤.   

    MultiTransformation multiOption = new MultiTransformation(
                    new CenterCrop(),
                    new RoundedCorners(20)
            );
    Glide.with(mContext)
         .load(star.getProfileImage())
         .apply(RequestOptions.bitmapTransform(multiOption))
         .into(imageView);  
         
<br>
<br>
<br>
<br>
  

## ì°¸ì¡° ë¬¸í—Œ  

---

- Glide
[https://github.com/bumptech/glide](https://github.com/bumptech/glide)
